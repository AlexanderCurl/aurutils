.TH AUR.PKGLIST 1 2022-09-13 AURUTILS
.SH NAME
aur\-pkglist \- retrieve AUR metadata archives
.
.SH SYNOPSIS
.SY "aur pkglist"
.OP \-bQiq
.OP \-t ttl
.YS
.
.SH DESCRIPTION
.B aur\-pkglist
retrieves metadata archives from the AUR. This includes plain-text lists
of available package names
.RB ( packages.gz ),
AUR users
.RB ( users.gz ),
package bases
.RB ( pkgbase.gz ),
and JSON lists of all available metadata
.RB ( packages-meta-v1.json ,
.BR packages-meta-v1-ext.json ).
The JSON lists either match the output of
.B search
or
.B info
type requests; see
.BR aur\-query (1).
.
.SH OPTIONS
.TP
.BR \-b ", " \-\-pkgbase
Retrieve
.BR pkgbases.git/pkgbase.json .
.
.TP
.BR \-n ", " \-\-pkgname
Retrieve
.BR pkgnames.git/pkgname.json .
This is the default.
.
.TP
.B \-\-users
Retrieve
.BR users.git/users.json .
.
.TP
.BR \-i ", " \-\-info
Retrieve
.BR metadata.git/pkgname.json .
.
.TP
.BR \-\-plain
Print the package list to standard output.
.
.TP
.BR \-F ", " \-\-fixed-strings
Interpret the given
.I pattern
as a list of fixed strings, separated by newlines, 
any of which is to be matched.
.
.TP
.BR \-P ", " \-\-perl\-regexp
Interpret the given
.I pattern
as a Perl-compatible regular expression (PCRE).
.
.SS List retrieval options
.TP
.BR \-q ", " \-u ", " \-\-quiet
Update the package list and print its path to standard output.
.
.TP
.BR \-Q ", " \-\-systime
Use the system clock when verifying the list modification date (see
.BR \-\-time ).
This option should only be used when the clock is synchronized, for example with
NTP.
.
.TP
.BR \-t ", " \-\-ttl
A positive integer specifying the delay in seconds for retrieving list upgrades with
.BR \-\-systime .
A negative integer skips upgrades, regardless of
.BR \-\-systime .
Defaults to
.B 600
seconds.
.PP
New lists are generated by the AUR every 10 to 15 minutes. Setting smaller
intervals with
.B \-t
will thus not give any new results.
.
.TP
.BR \-v ", " \-\-verify
Verify checksums of the compressed list with
.BR sha256sum (1).
.
.SH ENVIRONMENT
.TP
.B AUR_LOCATION
The URI of the AUR endpoint. Defaults to
.IR https://\:aur.archlinux.org .
.
.TP
.B GIT_HTTP_USER_AGENT
This variable is set to
.BR aurutils .
.
.SH NOTES
The following threads provide more background on the AUR metadata archives:
.PP
.UR https://\:gitlab.archlinux.org/\:archlinux/\:aurweb/\:-/\:issues/\:172
RFC for new AUR Metadata Archives format + diffs
.UE ,
.PP
.UR https://lists.archlinux.org/pipermail/aur-general/2021-November/036659.html
[aur\-general] New AUR Metadata Archives
.UE ,
.PP
.UR https://\:lists.archlinux.org/\:pipermail/\:aur-dev/\:2016-May/\:004036.html
[aur\-dev] Making the package list more useful
.UE .
.
.SH SEE ALSO
.ad l
.nh
.BR aur (1),
.BR curl (1),
.BR sha256sum (1)
.
.SH AUTHORS
.MT https://github.com/AladW
Alad Wenter
.ME
.
.\" vim: set textwidth=72:
